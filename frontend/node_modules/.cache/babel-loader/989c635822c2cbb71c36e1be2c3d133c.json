{"ast":null,"code":"import _slicedToArray from\"/usr/local/lib/node_modules/react-scripts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{newWebRTCClient}from'./webRTCClient';export function UserMedia(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),stream=_useState2[0],setStream=_useState2[1];useEffect(function(){// async function startStream() {\n//     const video = await navigator.mediaDevices.getUserMedia({ video: true });\n//     setStream(video); \n// }\nvar pc=newWebRTCClient();pc.ontrack=function(event){console.log(\"ontrack: \",event.streams[0]);var video=event.streams[0];setStream(video);};//startStream()\n},[]);return stream;}","map":{"version":3,"sources":["/home/cmelgreen/GoProjects/src/ReactUserMedia/frontend/src/camera/UserMedia.js"],"names":["useState","useEffect","newWebRTCClient","UserMedia","stream","setStream","pc","ontrack","event","console","log","streams","video"],"mappings":"gKAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,eAAT,KAAgC,gBAAhC,CAEA,MAAO,SAASC,CAAAA,SAAT,EAAqB,eACIH,QAAQ,CAAC,IAAD,CADZ,wCACjBI,MADiB,eACTC,SADS,eAGxBJ,SAAS,CAAE,UAAM,CAEb;AACA;AACA;AACA;AAEA,GAAIK,CAAAA,EAAE,CAAGJ,eAAe,EAAxB,CAEAI,EAAE,CAACC,OAAH,CAAa,SAAAC,KAAK,CAAI,CAClBC,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBF,KAAK,CAACG,OAAN,CAAc,CAAd,CAAzB,EACA,GAAMC,CAAAA,KAAK,CAAGJ,KAAK,CAACG,OAAN,CAAc,CAAd,CAAd,CACAN,SAAS,CAACO,KAAD,CAAT,CACH,CAJD,CAKA;AAEH,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,MAAOR,CAAAA,MAAP,CACH","sourcesContent":["import { useState, useEffect } from 'react';\nimport { newWebRTCClient } from './webRTCClient';\n\nexport function UserMedia() {\n    const [stream, setStream] = useState(null);\n\n    useEffect (() => {\n\n        // async function startStream() {\n        //     const video = await navigator.mediaDevices.getUserMedia({ video: true });\n        //     setStream(video); \n        // }\n\n        var pc = newWebRTCClient()\n\n        pc.ontrack = event => {\n            console.log(\"ontrack: \", event.streams[0])\n            const video = event.streams[0]\n            setStream(video)\n        }\n        //startStream()\n\n    }, []);\n\n    return stream;\n}"]},"metadata":{},"sourceType":"module"}