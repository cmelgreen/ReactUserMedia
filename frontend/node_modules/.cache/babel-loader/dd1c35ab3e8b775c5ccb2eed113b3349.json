{"ast":null,"code":"export function startConnection(stream){var pc=new RTCPeerConnection({iceServers:[{urls:'stun:stun.l.google.com:19302'}]});pc.addStream(stream);pc.createOffer().then(function(d){return pc.setLocalDescription(d);});pc.onicecandidate=function(event){var newCandidate=newRTCPeerConnectionIceEvent.candidate;var xhttp=new XMLHttpRequest();xhttp.open(\"POST\",\"/ws\",true);xhttp.setRequestHeader(\"Content-Type\",\"application/json\");xhttp.send(JSON.stringify(newCandidate));};}","map":{"version":3,"sources":["/home/cmelgreen/GoProjects/src/ReactUserMedia/frontend/src/camera/webRTC.js"],"names":["startConnection","stream","pc","RTCPeerConnection","iceServers","urls","addStream","createOffer","then","d","setLocalDescription","onicecandidate","event","newCandidate","newRTCPeerConnectionIceEvent","candidate","xhttp","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify"],"mappings":"AAAA,MAAO,SAASA,CAAAA,eAAT,CAAyBC,MAAzB,CAAiC,CACpC,GAAIC,CAAAA,EAAE,CAAG,GAAIC,CAAAA,iBAAJ,CAAsB,CAC3BC,UAAU,CAAE,CACR,CACIC,IAAI,CAAE,8BADV,CADQ,CADe,CAAtB,CAAT,CASAH,EAAE,CAACI,SAAH,CAAaL,MAAb,EACAC,EAAE,CAACK,WAAH,GAAiBC,IAAjB,CAAsB,SAAAC,CAAC,QAAIP,CAAAA,EAAE,CAACQ,mBAAH,CAAuBD,CAAvB,CAAJ,EAAvB,EAEAP,EAAE,CAACS,cAAH,CAAoB,SAAAC,KAAK,CAAI,CACzB,GAAIC,CAAAA,YAAY,CAAGC,4BAA4B,CAACC,SAAhD,CACA,GAAIC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,cAAJ,EAAZ,CACAD,KAAK,CAACE,IAAN,CAAW,MAAX,CAAmB,KAAnB,CAA0B,IAA1B,EACAF,KAAK,CAACG,gBAAN,CAAuB,cAAvB,CAAuC,kBAAvC,EACAH,KAAK,CAACI,IAAN,CAAWC,IAAI,CAACC,SAAL,CAAeT,YAAf,CAAX,EACH,CAND,CAQH","sourcesContent":["export function startConnection(stream) {\n    let pc = new RTCPeerConnection({\n        iceServers: [\n            {\n                urls: 'stun:stun.l.google.com:19302'\n                \n            }\n        ]\n    })\n\n    pc.addStream(stream)\n    pc.createOffer().then(d => pc.setLocalDescription(d))\n\n    pc.onicecandidate = event => {\n        var newCandidate = newRTCPeerConnectionIceEvent.candidate;\n        var xhttp = new XMLHttpRequest();\n        xhttp.open(\"POST\", \"/ws\", true); \n        xhttp.setRequestHeader(\"Content-Type\", \"application/json\");\n        xhttp.send(JSON.stringify(newCandidate));\n    }\n    \n}"]},"metadata":{},"sourceType":"module"}